(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>u});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,'body {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #e0e0e0;\n  font-family: sans-serif;\n  margin: 0;\n}\n\n.calculator {\n  width: 550px;\n  border-radius: 10px;\n  background-color: #585858;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\n}\n\n.display {\n  width: 100%;\n  height: 80px;\n  border: none;\n  box-sizing: border-box;\n  padding: 15px;\n  font-size: 36px;\n  background-color: #4a4a4a;\n  color: #fff;\n  text-align: right;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n\n.keys {\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-gap: 1px;\n  background-color: #2e2e2e;\n  border-bottom-right-radius: 10px;\n  border-bottom-left-radius: 10px;\n}\n\nbutton {\n  height: 50px;\n  font-size: 1rem;\n  border: none;\n  background-color: #505050;\n  color: white;\n  transition: background-color 0.2s;\n}\n\nbutton:hover {\n  cursor: pointer;\n  background-color: #666;\n}\n\nbutton.operator {\n  background-color: #f1a33c;\n}\n\nbutton.operator:hover {\n  background-color: #f09722;\n}\n\nbutton#result {\n  background-color: #f1a33c;\n  border-bottom-right-radius: 10px;\n}\nbutton#rad {\n  border-bottom-left-radius: 10px;\n}\n.key-wide {\n  grid-column: span 2;\n}\n\n.theme-toggle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-column: span 2;\n  background-color: #505050;\n}\n.theme-toggle input {\n  display: none;\n}\n\n.toggle-label {\n  width: 60px;\n  height: 30px;\n  background-color: #8d8383;\n  border-radius: 30px;\n  position: relative;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.toggle-label::after {\n  content: "";\n  width: 26px;\n  height: 26px;\n  background-color: #fff;\n  border-radius: 50%;\n  position: absolute;\n  left: 2px;\n  bottom: 2px;\n  transition: transform 0.2s;\n}\n.theme-toggle {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.toggle-text {\n  margin-top: 2px;\n  font-size: 0.8rem;\n  color: #fff;\n}\n\n#theme-toggle:checked + .toggle-label {\n  background-color: #f1a33c;\n}\n\n#theme-toggle:checked + .toggle-label::after {\n  transform: translateX(30px);\n}\n\n.dark-theme {\n  background-color: #121212;\n}\n\n.dark-theme .calculator {\n  background-color: #1e1e1e;\n}\n\n.dark-theme .display {\n  background-color: #424242;\n}\n\n.dark-theme button {\n  background-color: #4a4a4a;\n  color: #fff;\n}\n\n.dark-theme button.clear_btn:hover {\n  background-color: #f42a2a;\n}\n\n.dark-theme button.operator {\n  background-color: #f1a33c;\n}\n\n.dark-theme button.operator:hover {\n  background-color: #f09722;\n}\n',""]);const u=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],u=0;u<t.length;u++){var c=t[u],s=r.base?c[0]+r.base:c[0],l=i[s]||0,f="".concat(s," ").concat(l);i[s]=l+1;var d=n(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=o(p,r);r.byIndex=u,e.splice(u,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var u=n(i[a]);e[u].references--}for(var c=r(t,o),s=0;s<i.length;s++){var l=n(i[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),u=n(659),c=n.n(u),s=n(56),l=n.n(s),f=n(540),d=n.n(f),p=n(113),h=n.n(p),m=n(208),b={};b.styleTagTransform=h(),b.setAttributes=l(),b.insert=c().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=d();o()(m.A,b);m.A&&m.A.locals&&m.A.locals;function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}var k=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.firstValue="",this.secondValue="",this.currentOperator="",this.result=null,this.isSecondValueInput=!1,this.finish=!1},(e=[{key:"appendNumber",value:function(t){t=t.toString(),this.finish?(this.firstValue=t,this.secondValue="",this.currentOperator="",this.result=null,this.isSecondValueInput=!1,this.finish=!1):this.isSecondValueInput?this.secondValue+=t:this.firstValue+=t}},{key:"setOperation",value:function(t){this.currentOperator&&this.secondValue&&this.calculate(),this.currentOperator=t,this.isSecondValueInput=!0,this.finish=!1}},{key:"calculate",value:function(){if(!this.currentOperator){if(this.firstValue)return parseFloat(this.firstValue);throw new Error("Operation not supported")}var t=parseFloat(this.firstValue),e=parseFloat(this.secondValue||"0");if(isNaN(t)||isNaN(e))throw new Error("Incorrect data for calculation");switch(this.currentOperator){case"+":this.result=(10*t+10*e)/10;break;case"-":this.result=t-e;break;case"×":this.result=t*e;break;case"÷":if(0===e)throw this.result="Error",new Error("Incorrect data for calculation");this.result=t/e;break;default:throw new Error("Operation ".concat(this.currentOperator," not supported"))}return this.firstValue=this.result.toString(),this.secondValue="",this.currentOperator="",this.isSecondValueInput=!1,this.finish=!0,this.result}},{key:"processPercentage",value:function(){if(this.secondValue){var t=parseFloat(this.firstValue||"0"),e=parseFloat(this.secondValue||"0");["+","-"].includes(this.currentOperator)?this.secondValue=(t*e/100).toString():["×","÷"].includes(this.currentOperator)&&(this.secondValue=(e/100).toString())}else this.firstValue&&(this.firstValue=(parseFloat(this.firstValue)/100).toString())}},{key:"toggleSign",value:function(){this.isSecondValueInput?this.secondValue?this.secondValue=(-parseFloat(this.secondValue)).toString():this.secondValue="-0":this.firstValue?this.firstValue=(-parseFloat(this.firstValue)).toString():this.firstValue="-0"}},{key:"reset",value:function(){this.firstValue="",this.secondValue="",this.currentOperator="",this.result=null,this.isSecondValueInput=!1}}])&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:e+""}var V=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.history=[]},(e=[{key:"executeCommand",value:function(t){var e=t.execute();return this.history.push(t),console.log(this.history),e}}])&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t,e,n){return e=j(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,n||[],j(t).constructor):e.apply(t,n))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function N(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}var _=function(){return N((function t(){T(this,t)}),[{key:"execute",value:function(){throw new Error("Метод execute() должен быть реализован!")}}])}(),F=function(t){function e(t,n){var r;return T(this,e),(r=O(this,e)).calculator=t,r.number=n,r}return P(e,t),N(e,[{key:"execute",value:function(){this.calculator.appendNumber(this.number)}}])}(_),B=function(t){function e(t,n){var r;return T(this,e),(r=O(this,e)).calculator=t,r.operator=n,r}return P(e,t),N(e,[{key:"execute",value:function(){this.calculator.setOperation(this.operator)}}])}(_),M=function(t){function e(t){var n;return T(this,e),(n=O(this,e)).calculator=t,n}return P(e,t),N(e,[{key:"execute",value:function(){this.calculator.isSecondValueInput?this.calculator.secondValue.includes(".")||(this.calculator.secondValue+="."):this.calculator.firstValue.includes(".")||(this.calculator.firstValue+=".")}}])}(_),R=function(t){function e(t){var n;return T(this,e),(n=O(this,e)).calculator=t,n}return P(e,t),N(e,[{key:"execute",value:function(){return this.calculator.processPercentage()}}])}(_),q=function(t){function e(t){var n;return T(this,e),(n=O(this,e)).calculator=t,n}return P(e,t),N(e,[{key:"execute",value:function(){return this.calculator.toggleSign()}}])}(_),z=function(t){function e(t){var n;return T(this,e),(n=O(this,e)).calculator=t,n}return P(e,t),N(e,[{key:"execute",value:function(){return this.calculator.calculate()}}])}(_),D=function(t){function e(t,n){var r;return T(this,e),(r=O(this,e)).body=t,r.themeToggle=n,r}return P(e,t),N(e,[{key:"execute",value:function(){this.themeToggle.checked?(this.body.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(this.body.classList.remove("dark-theme"),localStorage.setItem("theme","light"))}}])}(_),H=new k,U=new V,J=document.querySelector(".display");function X(t){J.value=t||"0"}document.querySelectorAll(".number").forEach((function(t){t.addEventListener("click",(function(){var e=new F(H,t.textContent);U.executeCommand(e),X(H.isSecondValueInput?H.secondValue:H.firstValue)}))})),document.querySelectorAll(".operator").forEach((function(t){t.addEventListener("click",(function(){try{var e=new B(H,t.textContent);U.executeCommand(e),X(H.firstValue)}catch(t){console.error("Ошибка при выборе операции:",t.message),X("Error")}}))})),document.getElementById("percent").addEventListener("click",(function(){var t=new R(H);U.executeCommand(t),X(H.isSecondValueInput?H.secondValue:H.firstValue)})),document.getElementById("toggle-sign").addEventListener("click",(function(){var t=new q(H);U.executeCommand(t),X(H.isSecondValueInput?H.secondValue:H.firstValue)})),document.getElementById("result").addEventListener("click",(function(){try{var t=new z(H);X(U.executeCommand(t))}catch(t){console.error("Ошибка при вычислении:",t.message),X("Error")}})),document.getElementById("clear").addEventListener("click",(function(){H.reset(),X()}));var G=document.getElementById("theme-toggle"),K=document.body;"dark"===localStorage.getItem("theme")&&(K.classList.add("dark-theme"),G.checked=!0),G.addEventListener("change",(function(){var t=new D(K,G);U.executeCommand(t)})),commaButton.addEventListener("click",(function(){var t=new M(H);U.executeCommand(t),X(H.isSecondValueInput?H.secondValue:H.firstValue)}))})();